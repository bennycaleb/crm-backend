{"version":3,"sources":["Login.js","Register.js","CRM.js","AdminShopifyOrders.js","AdminCRM.js","App.js","reportWebVitals.js","index.js"],"names":["Login","login","setLogin","useState","password","setPassword","role","setRole","error","setError","navigate","useNavigate","React","createElement","className","onSubmit","e","preventDefault","trim","autoComplete","type","value","onChange","target","required","Link","to","onClick","alert","Register","formData","setFormData","nom","prenom","email","telephone","experience","passeportFile","setPasseportFile","success","setSuccess","handleChange","name","prevState","_objectSpread","async","formDataToSend","FormData","Object","keys","forEach","key","append","response","fetch","method","body","ok","setTimeout","data","json","message","err","htmlFor","id","file","files","size","accept","statusList","label","color","max","callStatusList","tabs","getMinDeliveryDate","now","Date","setDate","getDate","toISOString","split","getMaxDeliveryDate","added","getDay","CRM","activeTab","setActiveTab","status","setStatus","statusTimes","setStatusTimes","statusTimerRef","useRef","callState","setCallState","callSeconds","setCallSeconds","callTimerRef","callStatus","setCallStatus","client","setClient","phone","address","setAddress","rue","numero","codePostal","ville","region","appartement","etage","entree","cart","setCart","produit","prix","quantite","frais","tva","orderSaved","setOrderSaved","showTreatmentTimer","setShowTreatmentTimer","treatmentSeconds","setTreatmentSeconds","treatmentTimerRef","addressSuggestions","setAddressSuggestions","showSuggestions","setShowSuggestions","searchQuery","setSearchQuery","recallDate","setRecallDate","refusalReason","setRefusalReason","trashReason","setTrashReason","formError","setFormError","dateLivraison","setDateLivraison","orders","setOrders","loadingOrders","setLoadingOrders","apiError","setApiError","useEffect","fetchOrders","res","Error","interval","setInterval","clearInterval","current","times","s","daysToAdd","Math","floor","random","delivery","getRandomDeliveryDate","formatTime","m","toString","padStart","sec","concat","updateCartLine","idx","field","newCart","map","item","i","tab","handleLogout","window","location","href","style","maxWidth","margin","textAlign","background","borderRadius","boxShadow","padding","border","fontWeight","fontSize","marginBottom","letterSpacing","overflowX","width","borderCollapse","borderSpacing","order","borderBottom","date","toLocaleDateString","statut","Fragment","minWidth","marginRight","display","alignItems","gap","marginTop","marginLeft","time","isCurrent","isLate","normalize","replace","toLowerCase","h","formatTimeHMS","_cart$","_cart$2","_cart$3","diff","timestamp","getTime","orderToSend","slice","join","adresse","values","filter","Boolean","parseInt","parseFloat","logistique","operateur","canal","historique","action","utilisateur","headers","JSON","stringify","errorData","savedOrder","prevOrders","console","position","query","length","encodeURIComponent","features","searchAddress","placeholder","suggestion","index","feature","properties","housenumber","street","postcode","city","context","selectAddress","readOnly","min","d","addCartLine","AdminShopifyOrders","loading","setLoading","successMsg","setSuccessMsg","sendingId","setSendingId","then","catch","shopifyOrderId","paddingBottom","dateReception","toLocaleString","log","orderId","url","mode","credentials","fromEntries","entries","errorMsg","handleSendToGlnet","disabled","cursor","COLORS","AdminCRM","registrationRequests","setRegistrationRequests","loadingRequests","setLoadingRequests","selectedOrder","setSelectedOrder","newOrder","setNewOrder","editIndex","setEditIndex","filters","setFilters","dateStart","dateEnd","statsPeriod","setStatsPeriod","customRange","setCustomRange","moment","startOf","selectedProduct","setSelectedProduct","searchStats","setSearchStats","sortStats","setSortStats","asc","pageStats","setPageStats","fetchRegistrationRequests","filteredOrders","matchClient","includes","matchPhone","matchId","matchStatut","matchProduit","matchOperateur","matchCanal","matchDateStart","matchDateEnd","start","end","period","clone","getPeriodRange","periodOrders","o","isBetween","getOrdersInRange","kpi","totalOrders","ca","reduce","sum","clients","Set","reorders","arr","findIndex","x","panierMoyen","tauxReachat","round","getKPI","salesCurve","groupBy","format","commandes","sort","a","b","toDate","getSalesCurve","pieData","k","_ref","getPieData","barData","_ref2","getBarData","products","paginatedOrders","minHeight","top","zIndex","alignSelf","textTransform","height","transition","flex","flexWrap","justifyContent","aria-label","p","DatePicker","RangePicker","v","FaFileExport","maximumFractionDigits","ResponsiveContainer","LineChart","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Tooltip","Line","stroke","strokeWidth","PieChart","Pie","nameKey","cx","cy","outerRadius","entry","Cell","fill","Legend","BarChart","Bar","FaArrowUp","FaArrowDown","Array","from","ceil","_","orderToUpdate","updated","newId","orderToCreate","created","gridTemplateColumns","flexDirection","gridColumn","f","exportToExcel","worksheet","XLSX","json_to_sheet","workbook","book_new","book_append_sheet","exportToPDF","doc","jsPDF","setFontSize","text","tableRows","autoTable","head","startY","theme","styles","cellPadding","overflow","headStyles","fillColor","textColor","fontStyle","columnStyles","0","cellWidth","1","2","3","4","5","6","7","save","_order$client","_order$client2","_order$client3","_order$client4","_order$produits","_order$produits2","_order$produits3","onMouseOver","currentTarget","onMouseOut","produits","acc","agent","stopPropagation","scrollTo","behavior","handleShowDetails","opacity","glnetSent","handleSendLogistique","handleEdit","handleDelete","request","_id","dateDemande","username","prompt","requestId","updatedRequests","r","handleApproveRequest","reason","handleRejectRequest","App","Router","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.8f9923e8.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport './Login.css';\n\nfunction Login() {\n  const [login, setLogin] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('operateur');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const VALID_LOGIN = 'operateur';\n  const VALID_PASSWORD = 'call123';\n  const ADMIN_LOGIN = 'admin';\n  const ADMIN_PASSWORD = 'admin123';\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (role === 'operateur' && login.trim() === VALID_LOGIN && password === VALID_PASSWORD) {\n      setError('');\n      navigate('/operateur');\n    } else if (role === 'admin' && login.trim() === ADMIN_LOGIN && password === ADMIN_PASSWORD) {\n      setError('');\n      navigate('/admin');\n    } else {\n      setError('Login ou mot de passe incorrect');\n    }\n  };\n\n  return (\n    <div className=\"login-bg\">\n      <div className=\"login-modal\">\n        <div className=\"login-brand-title\">\n          Bienvenue sur <span className=\"login-brand-main\">C-<span className=\"login-brand-accent\">INNOVATECH</span> SOLUTIONS</span>\n        </div>\n        <h2>Se connecter</h2>\n        {error && <div className=\"error-message\">{error}</div>}\n        <form onSubmit={handleSubmit} autoComplete=\"off\">\n          <div className=\"input-row\">\n            <div>\n              <label>Se connecter</label>\n              <input type=\"text\" value={login} onChange={e => setLogin(e.target.value)} required autoComplete=\"username\" />\n            </div>\n            <div>\n              <label>Mot de passe</label>\n              <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} required autoComplete=\"current-password\" />\n            </div>\n          </div>\n          <div className=\"role-row\">\n            <label>Se connecter en tant que :</label>\n            <select value={role} onChange={e => setRole(e.target.value)} className=\"role-select\">\n              <option value=\"operateur\">Oprateur</option>\n              <option value=\"admin\">Admin</option>\n            </select>\n          </div>\n          <button className=\"send-btn\" type=\"submit\">Envoyer</button>\n        </form>\n        <div className=\"login-links\">\n          <Link to=\"/register\" className=\"link-button\">Inscrivez-vous</Link> | <button className=\"link-button\" type=\"button\" onClick={() => alert('Fonctionnalit  venir')}>Mot de passe oubli ?</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Register.css';\n\nfunction Register() {\n  const [formData, setFormData] = useState({\n    nom: '',\n    prenom: '',\n    email: '',\n    telephone: '',\n    experience: 'non',\n    role: 'operateur'\n  });\n  const [passeportFile, setPasseportFile] = useState(null);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.type !== 'application/pdf') {\n        setError('Veuillez slectionner un fichier PDF');\n        e.target.value = null;\n        return;\n      }\n      if (file.size > 5 * 1024 * 1024) { // 5MB\n        setError('Le fichier est trop volumineux. Taille maximale: 5MB');\n        e.target.value = null;\n        return;\n      }\n      setPasseportFile(file);\n      setError('');\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!passeportFile) {\n      setError('Veuillez tlcharger votre passeport en PDF');\n      return;\n    }\n\n    try {\n      const formDataToSend = new FormData();\n      Object.keys(formData).forEach(key => {\n        formDataToSend.append(key, formData[key]);\n      });\n      formDataToSend.append('passeportFile', passeportFile);\n\n      const response = await fetch('http://localhost:5001/api/register', {\n        method: 'POST',\n        body: formDataToSend\n      });\n\n      if (response.ok) {\n        setSuccess(true);\n        setTimeout(() => {\n          navigate('/');\n        }, 3000);\n      } else {\n        const data = await response.json();\n        setError(data.message || 'Une erreur est survenue');\n      }\n    } catch (err) {\n      setError('Une erreur est survenue lors de l\\'envoi du formulaire');\n    }\n  };\n\n  return (\n    <div className=\"register-container\">\n      <div className=\"register-form-container\">\n        <h2>Inscription</h2>\n        {error && <div className=\"error-message\">{error}</div>}\n        {success && (\n          <div className=\"success-message\">\n            Votre demande d'inscription a t envoye avec succs. Un administrateur vous contactera bientt.\n          </div>\n        )}\n        <form onSubmit={handleSubmit} className=\"register-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"nom\">Nom</label>\n            <input\n              type=\"text\"\n              id=\"nom\"\n              name=\"nom\"\n              value={formData.nom}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"prenom\">Prnom</label>\n            <input\n              type=\"text\"\n              id=\"prenom\"\n              name=\"prenom\"\n              value={formData.prenom}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Adresse email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"telephone\">Numro WhatsApp</label>\n            <input\n              type=\"tel\"\n              id=\"telephone\"\n              name=\"telephone\"\n              value={formData.telephone}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"passeportFile\">Passeport (PDF)</label>\n            <input\n              type=\"file\"\n              id=\"passeportFile\"\n              name=\"passeportFile\"\n              onChange={handleFileChange}\n              accept=\".pdf\"\n              required\n            />\n            <small className=\"file-info\">\n              Format accept: PDF. Taille maximale: 5MB\n            </small>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"experience\">Exprience de travail</label>\n            <select\n              id=\"experience\"\n              name=\"experience\"\n              value={formData.experience}\n              onChange={handleChange}\n              required\n            >\n              <option value=\"non\">Non</option>\n              <option value=\"oui\">Oui</option>\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"role\">Rle</label>\n            <select\n              id=\"role\"\n              name=\"role\"\n              value={formData.role}\n              onChange={handleChange}\n              required\n            >\n              <option value=\"operateur\">Oprateur</option>\n              <option value=\"admin\">Admin</option>\n            </select>\n          </div>\n\n          <button type=\"submit\" className=\"submit-button\">Envoyer la demande</button>\n          <button type=\"button\" className=\"back-button\" onClick={() => navigate('/')}>\n            Retour  la connexion\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Register; ","import React, { useState, useEffect, useRef } from 'react';\nimport './CRM.css';\n\nconst statusList = [\n  { label: 'Connect', color: '#4caf50', max: 72000 }, // 20h\n  { label: 'Hors ligne', color: '#bdbdbd' },\n  { label: 'Pause', color: '#ffb300', max: 5400 }, // 1h30\n  { label: 'Formation', color: '#1976d2' }\n];\n\nconst callStatusList = [\n  'Appel sans rponse',\n  'Rappel',\n  'Validation',\n  'Refus',\n  'Poubelle'\n];\n\nconst tabs = [\n  'Principal',\n  'Demandes',\n  'Contacts supplmentaires',\n  'Panier'\n];\n\nfunction getRandomDeliveryDate() {\n  const now = new Date();\n  const daysToAdd = Math.floor(Math.random() * 2) + 2; // 2 ou 3 jours\n  const delivery = new Date(now);\n  delivery.setDate(now.getDate() + daysToAdd);\n  return delivery.toISOString().split('T')[0];\n}\n\nfunction getMinDeliveryDate() {\n  const now = new Date();\n  now.setDate(now.getDate() + 2);\n  return now.toISOString().split('T')[0];\n}\n\nfunction getMaxDeliveryDate() {\n  const now = new Date();\n  let added = 0;\n  while (added < 5) {\n    now.setDate(now.getDate() + 1);\n    // 0 = dimanche, 6 = samedi\n    if (now.getDay() !== 0 && now.getDay() !== 6) {\n      added++;\n    }\n  }\n  return now.toISOString().split('T')[0];\n}\n\nfunction CRM() {\n  // Onglets\n  const [activeTab, setActiveTab] = useState('Principal');\n  // Statut oprateur\n  const [status, setStatus] = useState('Connect');\n  // Chronomtres pour chaque statut\n  const [statusTimes, setStatusTimes] = useState({\n    'Connect': 0,\n    'Hors ligne': 0,\n    'Pause': 0,\n    'Formation': 0\n  });\n  const statusTimerRef = useRef();\n  // Appel\n  const [callState, setCallState] = useState('ringing'); // 'ringing', 'in-call', 'ended'\n  const [callSeconds, setCallSeconds] = useState(0);\n  const callTimerRef = useRef();\n  // Formulaire\n  const [callStatus, setCallStatus] = useState(callStatusList[0]);\n  const [client, setClient] = useState({ name: '', phone: '06 12 34 56 78' });\n  const [address, setAddress] = useState({\n    rue: '', numero: '', codePostal: '', ville: '',\n    region: '', appartement: '', etage: '', entree: ''\n  });\n  const [cart, setCart] = useState([\n    { produit: '', prix: '', quantite: '', frais: '', tva: '' }\n  ]);\n  const [orderSaved, setOrderSaved] = useState(false);\n  // Timer de traitement\n  const [showTreatmentTimer, setShowTreatmentTimer] = useState(false);\n  const [treatmentSeconds, setTreatmentSeconds] = useState(0);\n  const treatmentTimerRef = useRef();\n  const [addressSuggestions, setAddressSuggestions] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [recallDate, setRecallDate] = useState('');\n  const [refusalReason, setRefusalReason] = useState('');\n  const [trashReason, setTrashReason] = useState('');\n  const [formError, setFormError] = useState('');\n  const [dateLivraison, setDateLivraison] = useState('');\n  // Liste des commandes\n  const [orders, setOrders] = useState([]);\n  const [loadingOrders, setLoadingOrders] = useState(true);\n  const [apiError, setApiError] = useState(null);\n\n  // Charger les commandes depuis l'API\n  useEffect(() => {\n    async function fetchOrders() {\n      setLoadingOrders(true);\n      setApiError(null);\n      try {\n        const res = await fetch('/api/orders');\n        if (!res.ok) throw new Error('API non disponible');\n        const data = await res.json();\n        setOrders(data);\n      } catch (e) {\n        setApiError('Impossible de contacter le serveur des commandes. Vrifiez que le backend est bien lanc.');\n      }\n      setLoadingOrders(false);\n    }\n    fetchOrders();\n\n    // Rafrachir les commandes toutes les 30 secondes\n    const interval = setInterval(fetchOrders, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Chronomtre statut\n  useEffect(() => {\n    clearInterval(statusTimerRef.current);\n    statusTimerRef.current = setInterval(() => {\n      setStatusTimes(times => ({\n        ...times,\n        [status]: times[status] + 1\n      }));\n    }, 1000);\n    return () => clearInterval(statusTimerRef.current);\n  }, [status]);\n\n  // Chronomtre appel\n  useEffect(() => {\n    if (callState === 'in-call') {\n      callTimerRef.current = setInterval(() => {\n        setCallSeconds(s => s + 1);\n      }, 1000);\n    } else {\n      clearInterval(callTimerRef.current);\n      setCallSeconds(0);\n    }\n    return () => clearInterval(callTimerRef.current);\n  }, [callState]);\n\n  // Timer de traitement : dmarre aprs raccrochage\n  useEffect(() => {\n    if (callState === 'ended') {\n      setShowTreatmentTimer(true);\n      setTreatmentSeconds(0);\n      treatmentTimerRef.current = setInterval(() => {\n        setTreatmentSeconds(s => s + 1);\n      }, 1000);\n    } else {\n      setShowTreatmentTimer(false);\n      setTreatmentSeconds(0);\n      clearInterval(treatmentTimerRef.current);\n    }\n    return () => clearInterval(treatmentTimerRef.current);\n  }, [callState]);\n\n  // Arrt du timer de traitement aprs enregistrement\n  useEffect(() => {\n    if (orderSaved) {\n      setShowTreatmentTimer(false);\n      setTreatmentSeconds(0);\n      clearInterval(treatmentTimerRef.current);\n    }\n  }, [orderSaved]);\n\n  // Quand le statut change, si Validation, gnre la date de livraison\n  useEffect(() => {\n    if (callStatus === 'Validation') {\n      setDateLivraison(getRandomDeliveryDate());\n    } else {\n      setDateLivraison('');\n    }\n  }, [callStatus]);\n\n  // Quand le statut change, reset la date de livraison si pas Validation\n  useEffect(() => {\n    if (callStatus !== 'Validation') {\n      setDateLivraison('');\n    }\n  }, [callStatus]);\n\n  const formatTime = (s) => {\n    const m = Math.floor(s / 60).toString().padStart(2, '0');\n    const sec = (s % 60).toString().padStart(2, '0');\n    return `${m}:${sec}`;\n  };\n  const formatTimeHMS = (s) => {\n    const h = Math.floor(s / 3600).toString().padStart(2, '0');\n    const m = Math.floor((s % 3600) / 60).toString().padStart(2, '0');\n    const sec = (s % 60).toString().padStart(2, '0');\n    return `${h}:${m}:${sec}`;\n  };\n\n  // Ajout d'une ligne au panier\n  const addCartLine = () => {\n    setCart([...cart, { produit: '', prix: '', quantite: '', frais: '', tva: '' }]);\n  };\n  // Modification d'une ligne du panier\n  const updateCartLine = (idx, field, value) => {\n    const newCart = cart.map((item, i) =>\n      i === idx ? { ...item, [field]: value } : item\n    );\n    setCart(newCart);\n  };\n  // Dconnexion\n  const handleLogout = () => {\n    window.location.href = '/';\n  };\n  // Enregistrer la commande\n  const handleSaveOrder = async (e) => {\n    e.preventDefault();\n    setFormError('');\n    if (callStatus === 'Validation' && !dateLivraison) {\n      setFormError('Veuillez choisir la date de livraison.');\n      return;\n    }\n    // Validation selon le statut\n    if (callStatus === 'Rappel') {\n      if (!recallDate) {\n        setFormError('Veuillez choisir la date et l\\'heure du rappel.');\n        return;\n      }\n      // Vrifier que la date est dans les 3 jours\n      const now = new Date();\n      const recall = new Date(recallDate);\n      const diff = (recall - now) / (1000 * 60 * 60 * 24);\n      if (diff < 0 || diff > 3) {\n        setFormError('La date de rappel doit tre dans les 3 jours  venir.');\n        return;\n      }\n    }\n    if (callStatus === 'Refus' && !refusalReason.trim()) {\n      setFormError('Veuillez indiquer la raison du refus.');\n      return;\n    }\n    if (callStatus === 'Poubelle' && !trashReason.trim()) {\n      setFormError('Veuillez indiquer la raison pour la poubelle.');\n      return;\n    }\n\n    // Gnrer un ID unique pour la commande\n    const timestamp = new Date().getTime();\n    const random = Math.floor(Math.random() * 1000);\n    const orderId = `CMD${timestamp}${random}`;\n\n    // Construction de la commande  envoyer  l'admin\n    const orderToSend = {\n      id: orderId,\n      nom: client.name.split(' ')[0] || '',\n      prenom: client.name.split(' ').slice(1).join(' ') || '',\n      phone: client.phone,\n      adresse: Object.values(address).filter(Boolean).join(', '),\n      date: dateLivraison || new Date().toISOString().split('T')[0],\n      produit: cart[0]?.produit || '',\n      quantite: parseInt(cart[0]?.quantite) || 1,\n      prix: parseFloat(cart[0]?.prix) || 0,\n      statut: callStatus === 'Validation' ? 'Valide' : 'En attente',\n      logistique: false,\n      operateur: 'Oprateur', // Ajout de l'oprateur\n      canal: 'Tlphone', // Ajout du canal\n      historique: [\n        {\n          date: new Date().toISOString().split('T')[0],\n          action: 'Cration',\n          utilisateur: 'Oprateur'\n        }\n      ]\n    };\n\n    try {\n      const response = await fetch('/api/orders', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(orderToSend)\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Erreur lors de l\\'enregistrement de la commande');\n      }\n\n      const savedOrder = await response.json();\n      setOrders(prevOrders => [...prevOrders, savedOrder]);\n      setOrderSaved(true);\n      setFormError(''); // Rinitialiser les erreurs\n      setTimeout(() => setOrderSaved(false), 2000);\n      setCallState('ringing'); // relance un appel\n      setRecallDate('');\n      setRefusalReason('');\n      setTrashReason('');\n      setDateLivraison('');\n      \n      // Rinitialiser le panier\n      setCart([{ produit: '', prix: '', quantite: '', frais: '', tva: '' }]);\n      \n    } catch (err) {\n      console.error('Erreur lors de l\\'enregistrement:', err);\n      setFormError(err.message || 'Erreur lors de l\\'enregistrement de la commande. Veuillez ressayer.');\n    }\n  };\n\n  // Fonction de recherche d'adresse\n  const searchAddress = async (query) => {\n    if (query.length < 3) {\n      setAddressSuggestions([]);\n      return;\n    }\n\n    try {\n      const response = await fetch(\n        `https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(query)}&limit=5`\n      );\n      const data = await response.json();\n      setAddressSuggestions(data.features || []);\n      setShowSuggestions(true);\n    } catch (error) {\n      console.error('Erreur lors de la recherche d\\'adresse:', error);\n      setAddressSuggestions([]);\n    }\n  };\n\n  // Slection d'une adresse\n  const selectAddress = (feature) => {\n    const properties = feature.properties;\n    setAddress({\n      ...address,\n      numero: properties.housenumber || '',\n      rue: properties.street || '',\n      codePostal: properties.postcode || '',\n      ville: properties.city || '',\n      region: properties.context || ''\n    });\n    setSearchQuery(`${properties.housenumber || ''} ${properties.street || ''}, ${properties.postcode || ''} ${properties.city || ''}`);\n    setShowSuggestions(false);\n  };\n\n  return (\n    <div className=\"crm-legacy-container\">\n      {/* Onglets + Dconnexion */}\n      <div className=\"crm-header-bar\">\n        <div className=\"crm-tabs\">\n          {tabs.map(tab => (\n            <div\n              key={tab}\n              className={`crm-tab${activeTab === tab ? ' active' : ''}`}\n              onClick={() => setActiveTab(tab)}\n            >\n              {tab}\n            </div>\n          ))}\n        </div>\n        <button className=\"btn-logout\" onClick={handleLogout}>Dconnexion</button>\n      </div>\n      <div className=\"crm-brand\">\n        <span className=\"crm-brand-main\">C-<span className=\"crm-brand-accent\">INNOVATECH</span> Solutions</span>\n      </div>\n      <div className=\"crm-legacy-content\">\n        {activeTab === 'Panier' ? (\n          <div style={{maxWidth: 950, margin: '0 auto', textAlign:'left', background:'#fff', borderRadius:16, boxShadow:'0 2px 12px rgba(0,0,0,0.07)', padding:'32px 28px 24px 28px', border:'1.5px solid #e0e0e0'}}>\n            <h2 style={{fontWeight:800, fontSize:'1.6rem', marginBottom:32, textAlign:'center', letterSpacing:1}}>Mes commandes</h2>\n            {apiError && (\n              <div style={{color:'#e53935', marginBottom:16, padding:12, background:'#ffebee', borderRadius:8, border:'1px solid #ffcdd2'}}>\n                {apiError}\n              </div>\n            )}\n            <div style={{overflowX:'auto'}}>\n              <table style={{width:'100%', borderCollapse:'separate', borderSpacing:0, fontSize:'0.99rem', background:'#fff', borderRadius:10}}>\n                <thead>\n                  <tr style={{background:'#f7f8fa'}}>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>ID</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Client</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Produit</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Date</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Statut</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {orders.map(order => (\n                    <tr key={order.id} style={{borderBottom:'1px solid #f0f0f0'}}>\n                      <td style={{padding:'12px 8px'}}>{order.id}</td>\n                      <td style={{padding:'12px 8px'}}>{order.nom} {order.prenom}</td>\n                      <td style={{padding:'12px 8px'}}>{order.produit}</td>\n                      <td style={{padding:'12px 8px'}}>{new Date(order.date).toLocaleDateString('fr-FR')}</td>\n                      <td style={{padding:'12px 8px'}}>\n                        <span style={{\n                          padding: '4px 8px',\n                          borderRadius: 12,\n                          fontSize: '0.9rem',\n                          fontWeight: 600,\n                          background: \n                            order.statut === 'En attente' ? '#fff3e0' :\n                            order.statut === 'Valide' ? '#e8f5e9' :\n                            order.statut === 'Expdie' ? '#e3f2fd' :\n                            order.statut === 'Livre' ? '#f3e5f5' :\n                            '#ffebee',\n                          color: \n                            order.statut === 'En attente' ? '#e65100' :\n                            order.statut === 'Valide' ? '#2e7d32' :\n                            order.statut === 'Expdie' ? '#1565c0' :\n                            order.statut === 'Livre' ? '#6a1b9a' :\n                            '#c62828'\n                        }}>\n                          {order.statut}\n                        </span>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        ) : (\n          <>\n            {/* Colonne de gauche */}\n            <div style={{minWidth: 320, maxWidth: 340, marginRight: 32}}>\n              {/* Bloc appel */}\n              <div className=\"phonecall-box\">\n                <div style={{display:'flex',alignItems:'center',gap:10}}>\n                  <span style={{fontSize: '2rem', color:'#e53935'}}></span>\n                  <span style={{fontWeight:'bold',color:'#e53935'}}>Appel entrant...</span>\n                </div>\n                {callState === 'ringing' && (\n                  <div style={{marginTop:12,display:'flex',gap:12}}>\n                    <button className=\"btn-phonecall green big\" onClick={() => setCallState('in-call')}>Dcrocher</button>\n                    <button className=\"btn-phonecall red big\" onClick={() => setCallState('ended')}>Raccrocher</button>\n                  </div>\n                )}\n                {callState === 'in-call' && (\n                  <div style={{marginTop:12}}>\n                    <span className=\"phonecall-inprogress-label\">En appel</span>\n                    <span className=\"phonecall-timer\">{formatTime(callSeconds)}</span>\n                    <button className=\"btn-phonecall red big\" style={{marginLeft:18}} onClick={() => setCallState('ended')}>Raccrocher</button>\n                  </div>\n                )}\n                {callState === 'ended' && (\n                  <div style={{marginTop:12}}>\n                    <span className=\"phonecall-ended\">Appel termin</span>\n                    <button className=\"btn-newcall\" style={{marginLeft:18}} onClick={() => setCallState('ringing')}>Simuler un appel</button>\n                  </div>\n                )}\n              </div>\n              {/* Contrle */}\n              <div className=\"crm-controls-block-belowcall\">\n                <div className=\"crm-section-title\">Contrle</div>\n                <div className=\"crm-controls\">\n                  {statusList.map(s => {\n                    const time = statusTimes[s.label] || 0;\n                    const isCurrent = status === s.label;\n                    const isLate = s.max && time >= s.max;\n                    return (\n                      <button\n                        key={s.label}\n                        type=\"button\"\n                        className={`btn-control ${s.label.normalize('NFD').replace(/[\u0000-\\u036f]/g, '').toLowerCase().replace(/ /g, '')}${isCurrent ? ' selected' : ''}`}\n                        onClick={() => setStatus(s.label)}\n                      >\n                        {s.label}\n                        <span className={`status-timer${isLate ? ' late' : ''}`}>{formatTimeHMS(time)}</span>\n                        {isLate && s.label === 'Pause' && <span className=\"status-warning\"> max 1h30 !</span>}\n                        {isLate && s.label === 'Connect' && <span className=\"status-warning\"> max 20h !</span>}\n                      </button>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n            {/* Colonne de droite : Formulaire */}\n            <form className=\"crm-form\" onSubmit={handleSaveOrder}>\n              <div className=\"crm-section-flex\">\n                <div className=\"crm-section-block\">\n                  <div className=\"crm-section-title\">Informations client</div>\n                  <div className=\"crm-grid-2\">\n                    <div className=\"crm-field\">\n                      <label>Nom et prnom</label>\n                      <input type=\"text\" value={client.name} onChange={e => setClient({ ...client, name: e.target.value })} />\n                    </div>\n                    <div className=\"crm-field\">\n                      <label>Numro de tlphone</label>\n                      <input type=\"text\" value={client.phone} onChange={e => setClient({ ...client, phone: e.target.value })} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"crm-section-block\">\n                <div style={{display: 'flex', alignItems: 'center', gap: 12, marginBottom: 12}}>\n                  <div className=\"crm-section-title\" style={{marginBottom: 0}}>Adresse de livraison</div>\n                  <div className=\"crm-field\" style={{ minWidth: 220, width: 280, marginBottom: 0, position: 'relative' }}>\n                    <label style={{display:'none'}}>Rechercher une adresse</label>\n                    <input\n                      type=\"text\"\n                      value={searchQuery}\n                      onChange={(e) => {\n                        setSearchQuery(e.target.value);\n                        searchAddress(e.target.value);\n                      }}\n                      placeholder=\"Rechercher une adresse...\"\n                      style={{ width: '100%' }}\n                    />\n                    {showSuggestions && addressSuggestions.length > 0 && (\n                      <div className=\"address-suggestions\">\n                        {addressSuggestions.map((suggestion, index) => (\n                          <div\n                            key={index}\n                            className=\"suggestion-item\"\n                            onClick={() => selectAddress(suggestion)}\n                          >\n                            {suggestion.properties.label}\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </div>\n                <div className=\"crm-grid-4\">\n                  <div className=\"crm-field\">\n                    <label>Rue</label>\n                    <input type=\"text\" value={address.rue} readOnly />\n                  </div>\n                  <div className=\"crm-field\">\n                    <label>Numro</label>\n                    <input type=\"text\" value={address.numero} readOnly />\n                  </div>\n                  <div className=\"crm-field\">\n                    <label>Code postal</label>\n                    <input type=\"text\" value={address.codePostal} readOnly />\n                  </div>\n                  <div className=\"crm-field\">\n                    <label>Ville</label>\n                    <input type=\"text\" value={address.ville} readOnly />\n                  </div>\n                </div>\n                <div className=\"crm-grid-3\">\n                  <div className=\"crm-field\">\n                    <label>Rgion</label>\n                    <input type=\"text\" value={address.region} onChange={e => setAddress({ ...address, region: e.target.value })} />\n                  </div>\n                  <div className=\"crm-field\">\n                    <label>Appartement</label>\n                    <input type=\"text\" value={address.appartement} onChange={e => setAddress({ ...address, appartement: e.target.value })} />\n                  </div>\n                  <div className=\"crm-field\">\n                    <label>Entre</label>\n                    <input type=\"text\" value={address.entree} onChange={e => setAddress({ ...address, entree: e.target.value })} />\n                  </div>\n                </div>\n              </div>\n              <div className=\"crm-section-block\">\n                <div className=\"crm-section-title\">Statut aprs l'appel</div>\n                <div className=\"crm-field\" style={{maxWidth: '300px'}}>\n                  <select value={callStatus} onChange={e => setCallStatus(e.target.value)}>\n                    {callStatusList.map(s => <option key={s}>{s}</option>)}\n                  </select>\n                </div>\n                {/* Champs dynamiques selon le statut */}\n                {callStatus === 'Rappel' && (\n                  <div className=\"crm-field\" style={{maxWidth: 320}}>\n                    <label>Date et heure du rappel (dans les 3 jours)</label>\n                    <input\n                      type=\"datetime-local\"\n                      value={recallDate}\n                      min={new Date().toISOString().slice(0,16)}\n                      max={(() => {\n                        const d = new Date();\n                        d.setDate(d.getDate() + 3);\n                        return d.toISOString().slice(0,16);\n                      })()}\n                      onChange={e => setRecallDate(e.target.value)}\n                    />\n                  </div>\n                )}\n                {callStatus === 'Refus' && (\n                  <div className=\"crm-field\" style={{maxWidth: 320}}>\n                    <label>Raison du refus</label>\n                    <input\n                      type=\"text\"\n                      value={refusalReason}\n                      onChange={e => setRefusalReason(e.target.value)}\n                      placeholder=\"Indiquez la raison du refus\"\n                    />\n                  </div>\n                )}\n                {callStatus === 'Poubelle' && (\n                  <div className=\"crm-field\" style={{maxWidth: 320}}>\n                    <label>Raison pour la poubelle</label>\n                    <input\n                      type=\"text\"\n                      value={trashReason}\n                      onChange={e => setTrashReason(e.target.value)}\n                      placeholder=\"Indiquez la raison\"\n                    />\n                  </div>\n                )}\n                {callStatus === 'Validation' && (\n                  <div className=\"crm-field\" style={{maxWidth: 320}}>\n                    <label>Date de livraison prvue</label>\n                    <input type=\"date\" value={dateLivraison} min={getMinDeliveryDate()} max={getMaxDeliveryDate()} onChange={e => setDateLivraison(e.target.value)} required />\n                  </div>\n                )}\n                {formError && <div style={{color:'#e53935',marginTop:8,fontWeight:600}}>{formError}</div>}\n              </div>\n              <div className=\"crm-section-block\">\n                <div className=\"crm-section-title\">Panier</div>\n                <div className=\"crm-grid-5\">\n                  {cart.map((item, idx) => (\n                    <React.Fragment key={idx}>\n                      <div className=\"crm-field\">\n                        <label>Nom de produit</label>\n                        <input type=\"text\" value={item.produit} onChange={e => updateCartLine(idx, 'produit', e.target.value)} />\n                      </div>\n                      <div className=\"crm-field\">\n                        <label>Prix</label>\n                        <input type=\"number\" value={item.prix} onChange={e => updateCartLine(idx, 'prix', e.target.value)} />\n                      </div>\n                      <div className=\"crm-field\">\n                        <label>Quantit</label>\n                        <input type=\"number\" value={item.quantite} onChange={e => updateCartLine(idx, 'quantite', e.target.value)} />\n                      </div>\n                      <div className=\"crm-field\">\n                        <label>Frais de livraison</label>\n                        <input type=\"number\" value={item.frais} onChange={e => updateCartLine(idx, 'frais', e.target.value)} />\n                      </div>\n                      <div className=\"crm-field\">\n                        <label>TVA</label>\n                        <input type=\"number\" value={item.tva} onChange={e => updateCartLine(idx, 'tva', e.target.value)} />\n                      </div>\n                    </React.Fragment>\n                  ))}\n                </div>\n                <button type=\"button\" className=\"crm-btn-add\" onClick={addCartLine}>Ajouter un produit</button>\n              </div>\n              {showTreatmentTimer && (\n                <div className=\"treatment-timer-block\">\n                  <span className=\"treatment-timer-label\">Temps de traitement de la commande :</span>\n                  <span className={`treatment-timer-value${treatmentSeconds >= 600 ? ' late' : ''}`}>{formatTime(treatmentSeconds)}</span>\n                  {treatmentSeconds >= 600 && <span className=\"treatment-timer-warning\"> Dpassement !</span>}\n                </div>\n              )}\n              <div className=\"crm-section-block\" style={{textAlign:'center', marginTop: 18}}>\n                <button type=\"submit\" className=\"btn-save-order\">Enregistrer la commande</button>\n                {orderSaved && <span className=\"order-saved-msg\">Commande enregistre !</span>}\n              </div>\n            </form>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default CRM;\n","import React, { useEffect, useState } from 'react';\n\nfunction AdminShopifyOrders() {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [successMsg, setSuccessMsg] = useState('');\n  const [sendingId, setSendingId] = useState(null);\n\n  useEffect(() => {\n    fetch('/api/shopify/orders')\n      .then(res => res.json())\n      .then(data => {\n        setOrders(data);\n        setLoading(false);\n      })\n      .catch(() => {\n        setError('Erreur lors du chargement des commandes');\n        setLoading(false);\n      });\n  }, []);\n\n  const handleSendToGlnet = async (orderId) => {\n    console.log('=== DBUT DE L\\'ENVOI  GLNET ===');\n    console.log('Commande ID:', orderId);\n    setSendingId(orderId);\n    setSuccessMsg('');\n    setError('');\n    \n    try {\n      const url = `http://localhost:5001/api/shopify/send-to-glnet/${orderId}`;\n      console.log('URL de la requte:', url);\n      \n      const response = await fetch(url, { \n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        mode: 'cors',\n        credentials: 'include'\n      });\n      \n      console.log('Status de la rponse:', response.status);\n      console.log('Headers de la rponse:', Object.fromEntries(response.headers.entries()));\n      \n      const data = await response.json();\n      console.log('Donnes reues:', data);\n      \n      if (response.ok) {\n        setSuccessMsg(data.message);\n        console.log('Succs:', data);\n      } else {\n        const errorMsg = data.error || 'Erreur lors de l\\'envoi  gl-net';\n        setError(errorMsg);\n        console.error('Erreur:', errorMsg);\n      }\n    } catch (e) {\n      console.error('Exception lors de l\\'envoi:', e);\n      setError('Erreur lors de l\\'envoi  gl-net: ' + e.message);\n    } finally {\n      setSendingId(null);\n    }\n  };\n\n  return (\n    <div style={{ padding: 24 }}>\n      <h2>Commandes Shopify reues</h2>\n      {loading && <p>Chargement...</p>}\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {successMsg && <p style={{ color: 'green' }}>{successMsg}</p>}\n      <ul>\n        {orders.map(order => (\n          <li key={order.shopifyOrderId} style={{ marginBottom: 16, borderBottom: '1px solid #eee', paddingBottom: 8 }}>\n            <strong>ID Shopify:</strong> {order.shopifyOrderId}<br />\n            <strong>Date:</strong> {new Date(order.dateReception).toLocaleString()}<br />\n            <details>\n              <summary>Dtails bruts</summary>\n              <pre style={{ background: '#f8f8f8', padding: 8 }}>{JSON.stringify(order.data, null, 2)}</pre>\n            </details>\n            <button\n              onClick={() => handleSendToGlnet(order.shopifyOrderId)}\n              disabled={sendingId === order.shopifyOrderId}\n              style={{ marginTop: 8, background: '#1976d2', color: 'white', border: 'none', borderRadius: 4, padding: '8px 16px', cursor: 'pointer' }}\n            >\n              {sendingId === order.shopifyOrderId ? 'Envoi en cours...' : 'Envoyer  gl-net'}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default AdminShopifyOrders; ","import React, { useState, useEffect } from 'react';\nimport { FaUserCheck, FaUserTimes, FaClock, FaChartBar, FaBoxOpen, FaSearch, FaUserPlus, FaUserMinus, FaUserShield, FaClipboardList, FaTruck, FaFileExport, FaKey, FaArrowUp, FaArrowDown } from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\nimport * as XLSX from 'xlsx';\nimport { jsPDF } from 'jspdf';\nimport autoTable from 'jspdf-autotable';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar, PieChart, Pie, Cell, Legend } from 'recharts';\nimport { DatePicker } from 'antd';\nimport 'antd/dist/reset.css';\nimport moment from 'moment';\nimport AdminShopifyOrders from './AdminShopifyOrders';\n\nconst tabs = [\n  { label: 'Statistiques' },\n  { label: 'Commandes' },\n  { label: 'Commandes Shopify' },\n  { label: 'Recherch' },\n  { label: 'Vendeurs' },\n  { label: 'Demandes d\\'inscription' }\n];\n\nconst initialOrders = [\n  {\n    id: 'CMD001',\n    client: 'Jean Dupont',\n    phone: '0612345678',\n    produits: 'Produit A, Produit B',\n    quantite: 2,\n    montant: 120,\n    statut: 'En attente',\n    date: '2024-06-10',\n    operateur: 'Alice',\n    canal: 'Appel entrant',\n    adresse: '25 rue Pelleport, 33800 Bordeaux',\n    remarques: 'Livraison urgente',\n    historique: 'Cre le 2024-06-10, Valide le 2024-06-10 par Alice'\n  },\n  {\n    id: 'CMD002',\n    client: 'Marie Martin',\n    phone: '0622334455',\n    produits: 'Produit C',\n    quantite: 1,\n    montant: 80,\n    statut: 'Valide',\n    date: '2024-06-09',\n    operateur: 'Bob',\n    canal: 'Formulaire web',\n    adresse: '10 avenue de Paris, 75000 Paris',\n    remarques: '',\n    historique: 'Cre le 2024-06-09, Valide le 2024-06-09 par Bob'\n  }\n];\n\nconst COLORS = ['#1976d2', '#e53935', '#43a047', '#ffb300', '#6a1b9a', '#00bcd4', '#8bc34a', '#f44336'];\n\nfunction AdminCRM() {\n  const [activeTab, setActiveTab] = useState('Statistiques');\n  const [orders, setOrders] = useState([]);\n  const [registrationRequests, setRegistrationRequests] = useState([]);\n  const [loadingOrders, setLoadingOrders] = useState(true);\n  const [loadingRequests, setLoadingRequests] = useState(true);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [newOrder, setNewOrder] = useState({\n    nom: '',\n    prenom: '',\n    phone: '',\n    adresse: '',\n    produit: '',\n    quantite: 1,\n    prix: 0,\n    statut: 'En attente',\n    date: new Date().toISOString().split('T')[0]\n  });\n  const [editIndex, setEditIndex] = useState(null);\n  const [filters, setFilters] = useState({\n    client: '',\n    phone: '',\n    id: '',\n    dateStart: '',\n    dateEnd: '',\n    statut: '',\n    produit: '',\n    operateur: '',\n    canal: ''\n  });\n  const [statsPeriod, setStatsPeriod] = useState('Mois');\n  const [customRange, setCustomRange] = useState([moment().startOf('month'), moment()]);\n  const [selectedProduct, setSelectedProduct] = useState('');\n  const [searchStats, setSearchStats] = useState('');\n  const [sortStats, setSortStats] = useState({ key: 'date', asc: false });\n  const [pageStats, setPageStats] = useState(1);\n  const pageSizeStats = 10;\n  const navigate = useNavigate();\n  const [apiError, setApiError] = useState(null);\n\n  // Charger les commandes depuis l'API\n  useEffect(() => {\n    async function fetchOrders() {\n      setLoadingOrders(true);\n      setApiError(null);\n      try {\n        const res = await fetch('http://localhost:5001/api/shopify/orders');\n        if (!res.ok) throw new Error('API non disponible');\n        const data = await res.json();\n        setOrders(data);\n      } catch (e) {\n        setApiError('Impossible de contacter le serveur des commandes. Vrifiez que le backend est bien lanc.');\n      }\n      setLoadingOrders(false);\n    }\n    fetchOrders();\n\n    // Rafrachir les commandes toutes les 30 secondes\n    const interval = setInterval(fetchOrders, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Charger les demandes d'inscription\n  useEffect(() => {\n    async function fetchRegistrationRequests() {\n      if (activeTab === 'Demandes d\\'inscription') {\n        setLoadingRequests(true);\n        try {\n          const res = await fetch('http://localhost:5001/api/requests');\n          if (!res.ok) throw new Error('API non disponible');\n          const data = await res.json();\n          setRegistrationRequests(data);\n        } catch (e) {\n          console.error('Erreur lors du chargement des demandes:', e);\n        }\n        setLoadingRequests(false);\n      }\n    }\n    fetchRegistrationRequests();\n  }, [activeTab]);\n\n  // Filtrage dynamique\n  const filteredOrders = orders.filter(order => {\n    const matchClient = !filters.client || order.nom.toLowerCase().includes(filters.client.toLowerCase()) || order.prenom.toLowerCase().includes(filters.client.toLowerCase());\n    const matchPhone = !filters.phone || order.phone.includes(filters.phone);\n    const matchId = !filters.id || order.id.toLowerCase().includes(filters.id.toLowerCase());\n    const matchStatut = !filters.statut || order.statut === filters.statut;\n    const matchProduit = !filters.produit || order.produit.toLowerCase().includes(filters.produit.toLowerCase());\n    const matchOperateur = !filters.operateur || order.operateur.toLowerCase().includes(filters.operateur.toLowerCase());\n    const matchCanal = !filters.canal || order.canal.toLowerCase().includes(filters.canal.toLowerCase());\n    const matchDateStart = !filters.dateStart || order.date >= filters.dateStart;\n    const matchDateEnd = !filters.dateEnd || order.date <= filters.dateEnd;\n    return matchClient && matchPhone && matchId && matchStatut && matchProduit && matchOperateur && matchCanal && matchDateStart && matchDateEnd;\n  });\n\n  // Ajouter ou modifier une commande\n  const handleOrderSubmit = async (e) => {\n    e.preventDefault();\n    if (editIndex !== null) {\n      // Modification\n      const orderToUpdate = { ...orders[editIndex], ...newOrder };\n      await fetch(`/api/orders/${orderToUpdate.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(orderToUpdate)\n      });\n      const updated = [...orders];\n      updated[editIndex] = orderToUpdate;\n      setOrders(updated);\n      setEditIndex(null);\n    } else {\n      // Cration\n      const newId = 'CMD' + (orders.length + 1).toString().padStart(3, '0');\n      const orderToCreate = {\n        ...newOrder,\n        id: newId,\n        logistique: false,\n        historique: [\n          {\n            date: new Date().toISOString().split('T')[0],\n            action: 'Cration',\n            utilisateur: 'Admin'\n          }\n        ]\n      };\n      const res = await fetch('/api/orders', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(orderToCreate)\n      });\n      const created = await res.json();\n      setOrders([...orders, created]);\n    }\n    setNewOrder({ \n      nom: '', \n      prenom: '', \n      phone: '', \n      adresse: '', \n      produit: '', \n      quantite: 1, \n      prix: 0,\n      statut: 'En attente',\n      date: new Date().toISOString().split('T')[0]\n    });\n  };\n\n  // Supprimer une commande\n  const handleDelete = async (idx) => {\n    const id = orders[idx].id;\n    await fetch(`/api/orders/${id}`, { method: 'DELETE' });\n    setOrders(orders.filter((_, i) => i !== idx));\n    setSelectedOrder(null);\n  };\n\n  // Modifier une commande\n  const handleEdit = (idx) => {\n    setNewOrder({ ...orders[idx] });\n    setEditIndex(idx);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  // Envoyer  la logistique\n  const handleSendLogistique = async (idx) => {\n    const order = { ...orders[idx], logistique: true };\n    try {\n      // Mettre  jour le statut dans la base de donnes\n      await fetch(`/api/orders/${order.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(order)\n      });\n\n      // Envoyer  gl-net\n      const glnetResponse = await fetch(`/api/shopify/send-to-glnet/${order.id}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(order)\n      });\n\n      if (!glnetResponse.ok) {\n        throw new Error('Erreur lors de l\\'envoi  gl-net');\n      }\n\n      const updated = [...orders];\n      updated[idx] = { ...order, glnetSent: true };\n      setOrders(updated);\n      alert('Commande envoye  gl-net avec succs !');\n    } catch (error) {\n      console.error('Erreur:', error);\n      alert('Erreur lors de l\\'envoi  gl-net: ' + error.message);\n    }\n  };\n\n  // Voir dtails\n  const handleShowDetails = (order) => {\n    setSelectedOrder(order);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  // Fonction d'export Excel\n  const exportToExcel = () => {\n    const worksheet = XLSX.utils.json_to_sheet(orders.map(order => ({\n      'ID': order.id,\n      'Nom': order.nom,\n      'Prnom': order.prenom,\n      'Tlphone': order.phone,\n      'Adresse': order.adresse,\n      'Produit': order.produit,\n      'Quantit': order.quantite,\n      'Prix': order.prix,\n      'Logistique': order.logistique ? 'Oui' : 'Non'\n    })));\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Commandes\");\n    XLSX.writeFile(workbook, \"commandes.xlsx\");\n  };\n\n  // Fonction d'export PDF\n  const exportToPDF = () => {\n    const doc = new jsPDF('l', 'mm', 'a4');\n    doc.setFontSize(16);\n    doc.text('Liste des Commandes', 14, 15);\n    \n    const tableColumn = ['ID', 'Client', 'Tlphone', 'Adresse', 'Produit', 'Quantit', 'Prix', 'Logistique'];\n    const tableRows = orders.map(order => [\n      order.id,\n      `${order.nom} ${order.prenom}`,\n      order.phone,\n      order.adresse,\n      order.produit,\n      order.quantite.toString(),\n      `${order.prix} `,\n      order.logistique ? 'Oui' : 'Non'\n    ]);\n\n    autoTable(doc, {\n      head: [tableColumn],\n      body: tableRows,\n      startY: 25,\n      theme: 'grid',\n      styles: { \n        fontSize: 8,\n        cellPadding: 2,\n        overflow: 'linebreak'\n      },\n      headStyles: { \n        fillColor: [22, 160, 133],\n        textColor: [255, 255, 255],\n        fontStyle: 'bold'\n      },\n      columnStyles: {\n        0: { cellWidth: 30 },\n        1: { cellWidth: 40 },\n        2: { cellWidth: 35 },\n        3: { cellWidth: 60 },\n        4: { cellWidth: 40 },\n        5: { cellWidth: 25 },\n        6: { cellWidth: 25 },\n        7: { cellWidth: 25 }\n      },\n      margin: { top: 25 }\n    });\n    \n    doc.save('commandes.pdf');\n  };\n\n  function getPeriodRange(period, customRange) {\n    const now = moment();\n    let start, end = now.clone();\n    if (period === 'Jour') {\n      start = now.clone().startOf('day');\n    } else if (period === 'Semaine') {\n      start = now.clone().startOf('isoWeek');\n    } else if (period === 'Mois') {\n      start = now.clone().startOf('month');\n    } else if (period === 'Trimestre') {\n      start = now.clone().startOf('quarter');\n    } else if (period === 'Anne') {\n      start = now.clone().startOf('year');\n    } else if (period === 'Personnalis' && customRange) {\n      start = moment(customRange[0]);\n      end = moment(customRange[1]);\n    } else {\n      start = now.clone().startOf('day');\n    }\n    return [start, end];\n  }\n\n  function getOrdersInRange(orders, start, end) {\n    return orders.filter(o => moment(o.date).isBetween(start, end, null, '[]'));\n  }\n\n  function getKPI(orders) {\n    const totalOrders = orders.length;\n    const ca = orders.reduce((sum, o) => sum + o.prix * o.quantite, 0);\n    const clients = new Set(orders.map(o => o.nom + o.prenom));\n    const reorders = orders.filter((o, i, arr) => arr.findIndex(x => x.nom === o.nom && x.prenom === o.prenom) !== i);\n    const panierMoyen = totalOrders ? ca / totalOrders : 0;\n    return {\n      totalOrders,\n      ca,\n      clients: clients.size,\n      tauxReachat: totalOrders ? Math.round((reorders.length / totalOrders) * 100) : 0,\n      panierMoyen\n    };\n  }\n\n  function getSalesCurve(orders, period) {\n    let groupBy = 'date';\n    if (period === 'Jour') groupBy = 'hour';\n    if (period === 'Semaine' || period === 'Mois') groupBy = 'date';\n    if (period === 'Trimestre' || period === 'Anne') groupBy = 'month';\n    const map = {};\n    orders.forEach(o => {\n      let key;\n      if (groupBy === 'hour') key = moment(o.date).format('HH');\n      else if (groupBy === 'month') key = moment(o.date).format('MMM YYYY');\n      else key = moment(o.date).format('DD/MM/YYYY');\n      if (!map[key]) map[key] = { date: key, ca: 0, commandes: 0 };\n      map[key].ca += o.prix * o.quantite;\n      map[key].commandes += 1;\n    });\n    return Object.values(map).sort((a, b) => moment(a.date, 'DD/MM/YYYY').toDate() - moment(b.date, 'DD/MM/YYYY').toDate());\n  }\n\n  function getPieData(orders, key) {\n    const map = {};\n    orders.forEach(o => {\n      const k = o[key] || 'Autre';\n      if (!map[k]) map[k] = 0;\n      map[k] += o.prix * o.quantite;\n    });\n    return Object.entries(map).map(([name, value]) => ({ name, value }));\n  }\n\n  function getBarData(orders, key) {\n    const map = {};\n    orders.forEach(o => {\n      const k = o[key] || 'Autre';\n      if (!map[k]) map[k] = 0;\n      map[k] += o.prix * o.quantite;\n    });\n    return Object.entries(map).map(([name, value]) => ({ name, value }));\n  }\n\n  const [start, end] = getPeriodRange(statsPeriod, customRange);\n  let periodOrders = getOrdersInRange(orders, start, end);\n  if (selectedProduct) periodOrders = periodOrders.filter(o => o.produit === selectedProduct);\n  if (searchStats) periodOrders = periodOrders.filter(o => (o.nom + ' ' + o.prenom + ' ' + o.produit).toLowerCase().includes(searchStats.toLowerCase()));\n  const kpi = getKPI(periodOrders);\n  const salesCurve = getSalesCurve(periodOrders, statsPeriod);\n  const pieData = getPieData(periodOrders, 'produit');\n  const barData = getBarData(periodOrders, 'statut');\n  const products = [...new Set(orders.map(o => o.produit))];\n  const paginatedOrders = periodOrders.slice((pageStats-1)*pageSizeStats, pageStats*pageSizeStats);\n\n  // Approuver une demande\n  const handleApproveRequest = async (requestId) => {\n    const username = prompt('Entrez le nom d\\'utilisateur pour ce compte:');\n    if (!username) return;\n    \n    const password = prompt('Entrez le mot de passe pour ce compte:');\n    if (!password) return;\n\n    try {\n      const res = await fetch(`http://localhost:5001/api/approve/${requestId}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password })\n      });\n\n      if (!res.ok) throw new Error('Erreur lors de l\\'approbation');\n      \n      // Rafrachir la liste des demandes\n      const updatedRequests = await fetch('http://localhost:5001/api/requests').then(r => r.json());\n      setRegistrationRequests(updatedRequests);\n      \n      alert('Demande approuve avec succs');\n    } catch (e) {\n      alert('Erreur lors de l\\'approbation: ' + e.message);\n    }\n  };\n\n  // Refuser une demande\n  const handleRejectRequest = async (requestId) => {\n    const reason = prompt('Entrez la raison du refus:');\n    if (!reason) return;\n\n    try {\n      const res = await fetch(`http://localhost:5001/api/reject/${requestId}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ reason })\n      });\n\n      if (!res.ok) throw new Error('Erreur lors du refus');\n      \n      // Rafrachir la liste des demandes\n      const updatedRequests = await fetch('http://localhost:5001/api/requests').then(r => r.json());\n      setRegistrationRequests(updatedRequests);\n      \n      alert('Demande refuse avec succs');\n    } catch (e) {\n      alert('Erreur lors du refus: ' + e.message);\n    }\n  };\n\n  return (\n    <div style={{maxWidth: 1200, margin: '0 auto', padding: 0, background: '#fff', minHeight: '100vh'}}>\n      <div style={{ padding: 16, background: '#f5f5f5', borderBottom: '1px solid #ddd' }}>\n      </div>\n      {/* Menu onglets */}\n      <div style={{display:'flex', borderBottom:'2px solid #eee', background:'#fff', position:'sticky', top:0, zIndex:10}}>\n        <div style={{fontWeight:900, fontSize:'1.3rem', letterSpacing:1.5, marginLeft:32, alignSelf:'center', textTransform:'uppercase', display:'flex', alignItems:'center'}}>\n          C- <span style={{color:'#e53935', marginLeft:4, marginRight:4}}>INNOVATECH</span> <span style={{color:'#222'}}>SOLUTIONS</span>\n        </div>\n        {tabs.map(tab => (\n          <div\n            key={tab.label}\n            onClick={() => setActiveTab(tab.label)}\n            style={{\n              padding: '0 32px',\n              height: 48,\n              display: 'flex',\n              alignItems: 'center',\n              cursor: 'pointer',\n              fontWeight: 600,\n              color: activeTab === tab.label ? '#e53935' : '#222',\n              borderBottom: activeTab === tab.label ? '3px solid #e53935' : '3px solid transparent',\n              fontSize: '1.08rem',\n              background: activeTab === tab.label ? '#fff' : 'none',\n              transition: 'border 0.2s, color 0.2s',\n            }}\n          >\n            {tab.label}\n          </div>\n        ))}\n        <div style={{flex:1}}></div>\n        <button\n          style={{\n            marginRight: 32,\n            background: '#e53935',\n            color: '#fff',\n            border: 'none',\n            borderRadius: 20,\n            padding: '10px 32px',\n            fontSize: '1.08rem',\n            fontWeight: 700,\n            cursor: 'pointer',\n            alignSelf: 'center'\n          }}\n          onClick={() => navigate('/')}\n        >\n          Dconnexion\n        </button>\n      </div>\n      {/* Contenu dynamique */}\n      <div style={{padding: '48px 0 0 0', minHeight: 600}}>\n        {activeTab === 'Statistiques' && (\n          <div style={{maxWidth: 1200, margin: '0 auto', textAlign:'center', padding: '0 8px'}}>\n            {/* Header & Filters */}\n            <div style={{display:'flex', flexWrap:'wrap', alignItems:'center', justifyContent:'space-between', marginBottom:24, gap:12}}>\n              <h2 style={{fontWeight:900, fontSize:'2rem', margin:0, letterSpacing:1, display:'flex', alignItems:'center', gap:8}}>\n                <span role=\"img\" aria-label=\"stats\"></span> Statistiques de vente\n              </h2>\n              <div style={{display:'flex', gap:8, flexWrap:'wrap', alignItems:'center'}}>\n                {['Jour','Semaine','Mois','Trimestre','Anne','Personnalis'].map(p => (\n                  <button key={p} onClick={()=>setStatsPeriod(p)} style={{background:statsPeriod===p?'#e53935':'#e3f2fd', color:statsPeriod===p?'#fff':'#1976d2', border:'none', borderRadius:18, padding:'8px 18px', fontWeight:700, fontSize:'1rem', cursor:'pointer'}}>{p}</button>\n                ))}\n                {statsPeriod==='Personnalis' && (\n                  <DatePicker.RangePicker\n                    value={customRange}\n                    onChange={v=>setCustomRange(v)}\n                    format=\"DD/MM/YYYY\"\n                    style={{marginLeft:8}}\n                  />\n                )}\n                <select value={selectedProduct} onChange={e=>setSelectedProduct(e.target.value)} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem', background:'#fff'}}>\n                  <option value=\"\">Tous les produits</option>\n                  {products.map(p=>(<option key={p} value={p}>{p}</option>))}\n                </select>\n                <button onClick={()=>{/* TODO: export */}} style={{background:'#43a047', color:'#fff', border:'none', borderRadius:8, padding:'10px 18px', fontWeight:700, fontSize:'1rem', cursor:'pointer', display:'flex', alignItems:'center', gap:8}}><FaFileExport/> Exporter</button>\n              </div>\n            </div>\n            {/* KPI Cards */}\n            <div style={{display:'flex', gap:24, flexWrap:'wrap', justifyContent:'center', marginBottom:32}}>\n              <div style={{background:'#fff', borderRadius:12, padding:'18px 32px', minWidth:180, border:'1.5px solid #eee', boxShadow:'0 2px 8px rgba(0,0,0,0.04)'}}>\n                <div style={{fontSize:15, color:'#888'}}>Total commandes</div>\n                <div style={{fontWeight:800, fontSize:28}}>{kpi.totalOrders}</div>\n              </div>\n              <div style={{background:'#fff', borderRadius:12, padding:'18px 32px', minWidth:180, border:'1.5px solid #eee', boxShadow:'0 2px 8px rgba(0,0,0,0.04)'}}>\n                <div style={{fontSize:15, color:'#888'}}>Chiffre d'affaires ()</div>\n                <div style={{fontWeight:800, fontSize:28}}>{kpi.ca.toLocaleString('fr-FR')}</div>\n              </div>\n              <div style={{background:'#fff', borderRadius:12, padding:'18px 32px', minWidth:180, border:'1.5px solid #eee', boxShadow:'0 2px 8px rgba(0,0,0,0.04)'}}>\n                <div style={{fontSize:15, color:'#888'}}>Clients uniques</div>\n                <div style={{fontWeight:800, fontSize:28}}>{kpi.clients}</div>\n              </div>\n              <div style={{background:'#fff', borderRadius:12, padding:'18px 32px', minWidth:180, border:'1.5px solid #eee', boxShadow:'0 2px 8px rgba(0,0,0,0.04)'}}>\n                <div style={{fontSize:15, color:'#888'}}>Taux de rachat</div>\n                <div style={{fontWeight:800, fontSize:28}}>{kpi.tauxReachat}%</div>\n              </div>\n              <div style={{background:'#fff', borderRadius:12, padding:'18px 32px', minWidth:180, border:'1.5px solid #eee', boxShadow:'0 2px 8px rgba(0,0,0,0.04)'}}>\n                <div style={{fontSize:15, color:'#888'}}>Panier moyen ()</div>\n                <div style={{fontWeight:800, fontSize:28}}>{kpi.panierMoyen.toLocaleString('fr-FR', {maximumFractionDigits:2})}</div>\n              </div>\n            </div>\n            {/* Graphiques dynamiques */}\n            <div style={{display:'flex', gap:24, flexWrap:'wrap', justifyContent:'center', marginBottom:32}}>\n              <div style={{background:'#fff', borderRadius:12, padding:18, border:'1.5px solid #eee', flex:1, minWidth:320, maxWidth:500}}>\n                <div style={{fontWeight:600, marginBottom:8}}>Courbe des ventes</div>\n                <ResponsiveContainer width=\"100%\" height={220}>\n                  <LineChart data={salesCurve} margin={{top:10,right:20,left:0,bottom:0}}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"date\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Line type=\"monotone\" dataKey=\"ca\" stroke=\"#e53935\" strokeWidth={3} />\n                  </LineChart>\n                </ResponsiveContainer>\n              </div>\n              <div style={{background:'#fff', borderRadius:12, padding:18, border:'1.5px solid #eee', flex:1, minWidth:320, maxWidth:500}}>\n                <div style={{fontWeight:600, marginBottom:8}}>Rpartition des ventes (produits)</div>\n                <ResponsiveContainer width=\"100%\" height={220}>\n                  <PieChart>\n                    <Pie data={pieData} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={80} label>\n                      {pieData.map((entry, idx) => <Cell key={entry.name} fill={COLORS[idx%COLORS.length]} />)}\n                    </Pie>\n                    <Tooltip />\n                    <Legend />\n                  </PieChart>\n                </ResponsiveContainer>\n              </div>\n              <div style={{background:'#fff', borderRadius:12, padding:18, border:'1.5px solid #eee', flex:1, minWidth:320, maxWidth:500}}>\n                <div style={{fontWeight:600, marginBottom:8}}>Statut des commandes</div>\n                <ResponsiveContainer width=\"100%\" height={220}>\n                  <BarChart data={barData} margin={{top:10,right:20,left:0,bottom:0}}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"name\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Bar dataKey=\"value\" fill=\"#1976d2\" />\n                  </BarChart>\n                </ResponsiveContainer>\n              </div>\n            </div>\n            {/* Tableau dtaill */}\n            <div style={{background:'#fff', borderRadius:12, border:'1.5px solid #eee', boxShadow:'0 2px 8px rgba(0,0,0,0.04)', padding:18, marginBottom:32}}>\n              <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom:12}}>\n                <input type=\"text\" placeholder=\"Recherche...\" value={searchStats} onChange={e=>{setSearchStats(e.target.value);setPageStats(1);}} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem', minWidth:200}} />\n                <div style={{fontSize:13, color:'#888'}}>Total : {periodOrders.length} commandes</div>\n              </div>\n              <div style={{overflowX:'auto'}}>\n                {loadingOrders ? (\n                  <div>Chargement des commandes...</div>\n                ) : apiError ? (\n                  <div>{apiError}</div>\n                ) : (\n                  <table style={{width:'100%', borderCollapse:'separate', borderSpacing:0, fontSize:'0.99rem', background:'#fff', borderRadius:10}}>\n                    <thead>\n                      <tr style={{background:'#f7f8fa'}}>\n                        <th style={{padding:'10px 8px', fontWeight:700, color:'#222', cursor:'pointer'}} onClick={()=>{setSortStats(s=>({key:'date',asc:s.key==='date'?!s.asc:true}));}}>Date {sortStats.key==='date' && (sortStats.asc?<FaArrowUp/>:<FaArrowDown/>)}</th>\n                        <th style={{padding:'10px 8px', fontWeight:700, color:'#222', cursor:'pointer'}} onClick={()=>{setSortStats(s=>({key:'nom',asc:s.key==='nom'?!s.asc:true}));}}>Client {sortStats.key==='nom' && (sortStats.asc?<FaArrowUp/>:<FaArrowDown/>)}</th>\n                        <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Produit</th>\n                        <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Quantit</th>\n                        <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Prix</th>\n                        <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Total</th>\n                        <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Statut</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {paginatedOrders.map((o, idx) => (\n                        <tr key={o.id || idx} style={{borderBottom:'1.5px solid #f0f0f0'}}>\n                          <td style={{padding:'10px 8px'}}>{moment(o.date).format('DD/MM/YYYY')}</td>\n                          <td style={{padding:'10px 8px'}}>{o.nom} {o.prenom}</td>\n                          <td style={{padding:'10px 8px'}}>{o.produit}</td>\n                          <td style={{padding:'10px 8px', textAlign:'center'}}>{o.quantite}</td>\n                          <td style={{padding:'10px 8px', textAlign:'right'}}>{o.prix} </td>\n                          <td style={{padding:'10px 8px', textAlign:'right'}}>{(o.prix*o.quantite).toLocaleString('fr-FR')} </td>\n                          <td style={{padding:'10px 8px'}}>{o.statut}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                )}\n              </div>\n              {/* Pagination */}\n              <div style={{display:'flex', justifyContent:'center', gap:8, marginTop:12}}>\n                {Array.from({length:Math.ceil(periodOrders.length/pageSizeStats)},(_,i)=>(\n                  <button key={i} onClick={()=>setPageStats(i+1)} style={{background:pageStats===i+1?'#e53935':'#e3f2fd', color:pageStats===i+1?'#fff':'#1976d2', border:'none', borderRadius:8, padding:'6px 14px', fontWeight:700, fontSize:'1rem', cursor:'pointer'}}>{i+1}</button>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n        {activeTab === 'Commandes' && (\n          <div style={{maxWidth: 950, margin: '0 auto', textAlign:'left', background:'#fff', borderRadius:16, boxShadow:'0 2px 12px rgba(0,0,0,0.07)', padding:'32px 28px 24px 28px', border:'1.5px solid #e0e0e0'}}>\n            <h2 style={{fontWeight:800, fontSize:'1.6rem', marginBottom:32, textAlign:'center', letterSpacing:1}}>Commandes</h2>\n            {/* Formulaire cration/modification */}\n            <section style={{marginBottom:36, borderBottom:'1.5px solid #f0f0f0', paddingBottom:24}}>\n              <h3 style={{fontWeight:700, fontSize:'1.13rem', marginBottom:18, color:'#1976d2'}}>Crer ou modifier une commande</h3>\n              <form onSubmit={handleOrderSubmit} style={{display:'grid', gridTemplateColumns:'1fr 1fr 1fr 1fr', gap:'18px 18px', alignItems:'end', marginBottom:0}}>\n                <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <label style={{fontWeight:500, color:'#444', marginBottom:2}}>Nom</label>\n                  <input type=\"text\" value={newOrder.nom} onChange={e=>setNewOrder(o=>({...o, nom:e.target.value}))} required style={{borderRadius:6, border:'1.2px solid #cfd8dc', padding:'8px 10px'}} />\n                </div>\n                <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <label style={{fontWeight:500, color:'#444', marginBottom:2}}>Prnom</label>\n                  <input type=\"text\" value={newOrder.prenom} onChange={e=>setNewOrder(o=>({...o, prenom:e.target.value}))} required style={{borderRadius:6, border:'1.2px solid #cfd8dc', padding:'8px 10px'}} />\n                </div>\n                <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <label style={{fontWeight:500, color:'#444', marginBottom:2}}>Tlphone</label>\n                  <input type=\"text\" value={newOrder.phone} onChange={e=>setNewOrder(o=>({...o, phone:e.target.value}))} required style={{borderRadius:6, border:'1.2px solid #cfd8dc', padding:'8px 10px'}} />\n                </div>\n                <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <label style={{fontWeight:500, color:'#444', marginBottom:2}}>Adresse de livraison</label>\n                  <input type=\"text\" value={newOrder.adresse} onChange={e=>setNewOrder(o=>({...o, adresse:e.target.value}))} required style={{borderRadius:6, border:'1.2px solid #cfd8dc', padding:'8px 10px'}} />\n                </div>\n                <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <label style={{fontWeight:500, color:'#444', marginBottom:2}}>Nom du produit</label>\n                  <input type=\"text\" value={newOrder.produit} onChange={e=>setNewOrder(o=>({...o, produit:e.target.value}))} required style={{borderRadius:6, border:'1.2px solid #cfd8dc', padding:'8px 10px'}} />\n                </div>\n                <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <label style={{fontWeight:500, color:'#444', marginBottom:2}}>Quantit</label>\n                  <input type=\"number\" min={1} value={newOrder.quantite} onChange={e=>setNewOrder(o=>({...o, quantite:parseInt(e.target.value)||1}))} required style={{borderRadius:6, border:'1.2px solid #cfd8dc', padding:'8px 10px', width:100}} />\n                </div>\n                <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <label style={{fontWeight:500, color:'#444', marginBottom:2}}>Prix</label>\n                  <input type=\"number\" min={0} value={newOrder.prix} onChange={e=>setNewOrder(o=>({...o, prix:parseFloat(e.target.value)||0}))} required style={{borderRadius:6, border:'1.2px solid #cfd8dc', padding:'8px 10px', width:120}} />\n                </div>\n                <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <label style={{fontWeight:500, color:'#444', marginBottom:2}}>Statut</label>\n                  <select\n                    value={newOrder.statut}\n                    onChange={e => setNewOrder(o => ({ ...o, statut: e.target.value }))}\n                    style={{\n                      padding: '8px 12px',\n                      borderRadius: 6,\n                      border: '1.2px solid #cfd8dc',\n                      fontSize: '0.97rem',\n                      background: '#fff'\n                    }}\n                  >\n                    <option value=\"En attente\">En attente</option>\n                    <option value=\"En cours\">En cours</option>\n                    <option value=\"Expdie\">Expdie</option>\n                    <option value=\"Livre\">Livre</option>\n                    <option value=\"Annule\">Annule</option>\n                  </select>\n                </div>\n                <div style={{display:'flex', gap:10, gridColumn:'1/5'}}>\n                  <button type=\"submit\" style={{background:'#43a047', color:'#fff', border:'none', borderRadius:8, padding:'10px 28px', fontWeight:700, fontSize:'1rem', cursor:'pointer', boxShadow:'0 2px 8px rgba(67,160,71,0.10)'}}>{editIndex !== null ? 'Valider la modification' : 'Crer la commande'}</button>\n                  {editIndex !== null && <button type=\"button\" onClick={()=>{setEditIndex(null);setNewOrder({ nom: '', prenom: '', phone: '', adresse: '', produit: '', quantite: 1, prix: 0, statut: 'En attente', date: new Date().toISOString().split('T')[0] });}} style={{background:'#e53935', color:'#fff', border:'none', borderRadius:8, padding:'10px 28px', fontWeight:700, fontSize:'1rem', cursor:'pointer', boxShadow:'0 2px 8px rgba(229,57,53,0.10)'}}>Annuler</button>}\n                </div>\n              </form>\n            </section>\n            {/* Tableau des commandes */}\n            <section style={{marginBottom:36}}>\n              <h3 style={{fontWeight:700, fontSize:'1.13rem', marginBottom:18, color:'#1976d2'}}>Liste des commandes</h3>\n              \n              {/* Barre de recherche et filtres */}\n              <div style={{marginBottom:20, display:'flex', gap:12, flexWrap:'wrap'}}>\n                <input\n                  type=\"text\"\n                  placeholder=\"Rechercher par nom...\"\n                  value={filters.client}\n                  onChange={e => setFilters(f => ({...f, client: e.target.value}))}\n                  style={{\n                    padding: '8px 12px',\n                    borderRadius: 6,\n                    border: '1.2px solid #cfd8dc',\n                    fontSize: '0.97rem',\n                    minWidth: 200\n                  }}\n                />\n                <select\n                  value={filters.statut}\n                  onChange={e => setFilters(f => ({...f, statut: e.target.value}))}\n                  style={{\n                    padding: '8px 12px',\n                    borderRadius: 6,\n                    border: '1.2px solid #cfd8dc',\n                    fontSize: '0.97rem',\n                    background: '#fff'\n                  }}\n                >\n                  <option value=\"\">Tous les statuts</option>\n                  <option value=\"En attente\">En attente</option>\n                  <option value=\"En cours\">En cours</option>\n                  <option value=\"Expdie\">Expdie</option>\n                  <option value=\"Livre\">Livre</option>\n                  <option value=\"Annule\">Annule</option>\n                </select>\n                <input\n                  type=\"date\"\n                  value={filters.dateStart}\n                  onChange={e => setFilters(f => ({...f, dateStart: e.target.value}))}\n                  style={{\n                    padding: '8px 12px',\n                    borderRadius: 6,\n                    border: '1.2px solid #cfd8dc',\n                    fontSize: '0.97rem'\n                  }}\n                />\n                <input\n                  type=\"date\"\n                  value={filters.dateEnd}\n                  onChange={e => setFilters(f => ({...f, dateEnd: e.target.value}))}\n                  style={{\n                    padding: '8px 12px',\n                    borderRadius: 6,\n                    border: '1.2px solid #cfd8dc',\n                    fontSize: '0.97rem'\n                  }}\n                />\n              </div>\n\n              <div style={{display:'flex', gap:12, marginBottom:16}}>\n                <button \n                  onClick={exportToExcel}\n                  style={{\n                    background:'#43a047',\n                    color:'#fff',\n                    border:'none',\n                    borderRadius:8,\n                    padding:'10px 24px',\n                    fontWeight:600,\n                    fontSize:'0.97rem',\n                    cursor:'pointer',\n                    display:'flex',\n                    alignItems:'center',\n                    gap:8\n                  }}\n                >\n                  <FaFileExport /> Exporter en Excel\n                </button>\n                <button \n                  onClick={exportToPDF}\n                  style={{\n                    background:'#e53935',\n                    color:'#fff',\n                    border:'none',\n                    borderRadius:8,\n                    padding:'10px 24px',\n                    fontWeight:600,\n                    fontSize:'0.97rem',\n                    cursor:'pointer',\n                    display:'flex',\n                    alignItems:'center',\n                    gap:8\n                  }}\n                >\n                  <FaFileExport /> Exporter en PDF\n                </button>\n              </div>\n              <div style={{overflowX:'auto'}}>\n              <table style={{width:'100%', borderCollapse:'separate', borderSpacing:0, fontSize:'0.99rem', background:'#fff', borderRadius:10, boxShadow:'0 1px 6px rgba(0,0,0,0.04)'}}>\n                <thead>\n                  <tr style={{background:'#f7f8fa'}}>\n                    <th style={{padding:'12px 8px', fontWeight:700, color:'#222', borderBottom:'2px solid #e0e0e0'}}>Client</th>\n                    <th style={{padding:'12px 8px', fontWeight:700, color:'#222', borderBottom:'2px solid #e0e0e0'}}>Tlphone</th>\n                    <th style={{padding:'12px 8px', fontWeight:700, color:'#222', borderBottom:'2px solid #e0e0e0'}}>Adresse</th>\n                    <th style={{padding:'12px 8px', fontWeight:700, color:'#222', borderBottom:'2px solid #e0e0e0'}}>Produit</th>\n                    <th style={{padding:'12px 8px', fontWeight:700, color:'#222', borderBottom:'2px solid #e0e0e0'}}>Quantit</th>\n                    <th style={{padding:'12px 8px', fontWeight:700, color:'#222', borderBottom:'2px solid #e0e0e0'}}>Prix</th>\n                    <th style={{padding:'12px 8px', fontWeight:700, color:'#222', borderBottom:'2px solid #e0e0e0'}}>Statut</th>\n                    <th style={{padding:'12px 8px', fontWeight:700, color:'#222', borderBottom:'2px solid #e0e0e0'}}>Date</th>\n                    <th style={{padding:'12px 8px', fontWeight:700, color:'#222', borderBottom:'2px solid #e0e0e0'}}>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredOrders.map((order, idx) => (\n                    <tr key={order.id || idx} style={{background: order.logistique ? '#e3f2fd' : 'white', transition:'background 0.2s', borderBottom:'1.5px solid #f0f0f0', cursor:'pointer'}} onMouseOver={e=>e.currentTarget.style.background='#f5f5f5'} onMouseOut={e=>e.currentTarget.style.background=order.logistique ? '#e3f2fd' : 'white'}>\n                      <td style={{padding:'10px 8px', fontWeight:600, color:'#222'}}>{order.client?.nom} {order.client?.prenom}</td>\n                      <td style={{padding:'10px 8px'}}>{order.client?.telephone}</td>\n                      <td style={{padding:'10px 8px'}}>{order.client?.adresse}</td>\n                      <td style={{padding:'10px 8px'}}>{order.produits?.map(p => p.nom).join(', ')}</td>\n                      <td style={{padding:'10px 8px', textAlign:'center'}}>{order.produits?.reduce((acc, p) => acc + (p.quantite || 1), 0)}</td>\n                      <td style={{padding:'10px 8px', textAlign:'right'}}>{order.produits?.reduce((acc, p) => acc + (p.prix || 0), 0)} </td>\n                      <td style={{padding:'10px 8px'}}>\n                        <span style={{\n                          padding: '4px 8px',\n                          borderRadius: 12,\n                          fontSize: '0.9rem',\n                          fontWeight: 600,\n                          background: \n                            order.statut === 'En attente' ? '#fff3e0' :\n                            order.statut === 'En cours' ? '#e3f2fd' :\n                            order.statut === 'Expdie' ? '#e8f5e9' :\n                            order.statut === 'Livre' ? '#f3e5f5' :\n                            '#ffebee',\n                          color: \n                            order.statut === 'En attente' ? '#e65100' :\n                            order.statut === 'En cours' ? '#1565c0' :\n                            order.statut === 'Expdie' ? '#2e7d32' :\n                            order.statut === 'Livre' ? '#6a1b9a' :\n                            '#c62828'\n                        }}>\n                          {order.statut}\n                        </span>\n                      </td>\n                      <td style={{padding:'10px 8px'}}>{new Date(order.date).toLocaleDateString('fr-FR')}</td>\n                      <td style={{padding:'10px 8px'}}>{order.agent || ''}</td>\n                      <td style={{padding:'10px 8px'}}>\n                        <div style={{display:'flex', gap:8, flexWrap:'wrap'}}>\n                          <button style={{background:'#1976d2', color:'#fff', border:'none', borderRadius:7, padding:'7px 16px', fontWeight:600, fontSize:'0.97rem', cursor:'pointer', minWidth:90}} onClick={e=>{e.stopPropagation();handleShowDetails(order);}}>Dtails</button>\n                          <button style={{background:'#43a047', color:'#fff', border:'none', borderRadius:7, padding:'7px 16px', fontWeight:600, fontSize:'0.97rem', cursor:'pointer', minWidth:90, opacity:order.logistique?0.7:1}} onClick={e=>{e.stopPropagation();handleSendLogistique(idx);}} disabled={order.logistique}>{order.logistique ? 'Envoye' : 'Logistique'}</button>\n                          <button style={{background:'#ffb300', color:'#fff', border:'none', borderRadius:7, padding:'7px 16px', fontWeight:600, fontSize:'0.97rem', cursor:'pointer', minWidth:90}} onClick={e=>{e.stopPropagation();handleEdit(idx);}}>Modifier</button>\n                          <button style={{background:'#e53935', color:'#fff', border:'none', borderRadius:7, padding:'7px 16px', fontWeight:600, fontSize:'0.97rem', cursor:'pointer', minWidth:90}} onClick={e=>{e.stopPropagation();handleDelete(idx);}}>Supprimer</button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              </div>\n            </section>\n            {/* Dtail d'une commande */}\n            {selectedOrder && (\n              <section style={{marginBottom:32}}>\n                <h3 style={{fontWeight:700, fontSize:'1.13rem', marginBottom:18, color:'#1976d2'}}>Dtail de la commande {selectedOrder.id}</h3>\n                <div style={{background:'#fafbfc', borderRadius:12, padding:24, border:'1.5px solid #e0e0e0', maxWidth:700, margin:'0 auto'}}>\n                  <div style={{marginBottom:8}}><b>Client :</b> {selectedOrder.nom} {selectedOrder.prenom}</div>\n                  <div style={{marginBottom:8}}><b>Tlphone :</b> {selectedOrder.phone}</div>\n                  <div style={{marginBottom:8}}><b>Adresse :</b> {selectedOrder.adresse}</div>\n                  <div style={{marginBottom:8}}><b>Produit :</b> {selectedOrder.produit}</div>\n                  <div style={{marginBottom:8}}><b>Quantit :</b> {selectedOrder.quantite}</div>\n                  <div style={{marginBottom:8}}><b>Prix :</b> {selectedOrder.prix} </div>\n                  <div style={{marginBottom:8}}><b>Envoye  la logistique :</b> {selectedOrder.logistique ? 'Oui' : 'Non'}</div>\n                  <button style={{marginTop:12, background:'#888', color:'#fff', border:'none', borderRadius:8, padding:'10px 28px', fontWeight:700, fontSize:'1rem', cursor:'pointer', display:'block', marginLeft:'auto', marginRight:'auto'}} onClick={()=>setSelectedOrder(null)}>Fermer</button>\n                </div>\n              </section>\n            )}\n          </div>\n        )}\n        {activeTab === 'Commandes Shopify' && (\n          <AdminShopifyOrders />\n        )}\n        {activeTab === 'Recherch' && (\n          <div style={{maxWidth: 1100, margin: '0 auto', textAlign:'left', background:'#fff', borderRadius:16, boxShadow:'0 2px 12px rgba(0,0,0,0.07)', padding:'32px 28px 24px 28px', border:'1.5px solid #e0e0e0'}}>\n            <h2 style={{fontWeight:900, fontSize:'2rem', marginBottom:24, letterSpacing:1, display:'flex', alignItems:'center', gap:8}}>\n              <span role=\"img\" aria-label=\"search\"></span> Recherche avance de commandes\n            </h2>\n            {/* Filtres avancs */}\n            <div style={{display:'flex', flexWrap:'wrap', gap:18, marginBottom:24, alignItems:'end'}}>\n              <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                <label>Nom ou Prnom</label>\n                <input type=\"text\" placeholder=\"Nom ou prnom...\" value={filters.client} onChange={e=>setFilters(f=>({...f, client:e.target.value}))} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem'}} />\n              </div>\n              <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                <label>Tlphone</label>\n                <input type=\"text\" placeholder=\"Tlphone...\" value={filters.phone} onChange={e=>setFilters(f=>({...f, phone:e.target.value}))} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem'}} />\n              </div>\n              <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                <label>N Commande</label>\n                <input type=\"text\" placeholder=\"CMD...\" value={filters.id} onChange={e=>setFilters(f=>({...f, id:e.target.value}))} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem'}} />\n              </div>\n              <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                <label>Date dbut</label>\n                <input type=\"date\" value={filters.dateStart} onChange={e=>setFilters(f=>({...f, dateStart:e.target.value}))} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem'}} />\n              </div>\n              <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                <label>Date fin</label>\n                <input type=\"date\" value={filters.dateEnd} onChange={e=>setFilters(f=>({...f, dateEnd:e.target.value}))} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem'}} />\n              </div>\n              <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                <label>Statut</label>\n                <select value={filters.statut} onChange={e=>setFilters(f=>({...f, statut:e.target.value}))} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem'}}>\n                  <option value=\"\">Tous</option>\n                  <option value=\"En attente\"> En attente</option>\n                  <option value=\"En cours\">En cours</option>\n                  <option value=\"Expdie\">Expdie</option>\n                  <option value=\"Livre\"> Livre</option>\n                  <option value=\"Annule\"> Annule</option>\n                  <option value=\"Litige\"> Litige</option>\n                </select>\n              </div>\n              <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                <label>Canal</label>\n                <input type=\"text\" placeholder=\"Web, Appel...\" value={filters.canal} onChange={e=>setFilters(f=>({...f, canal:e.target.value}))} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem'}} />\n              </div>\n              <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                <label>Oprateur</label>\n                <input type=\"text\" placeholder=\"Agent...\" value={filters.operateur} onChange={e=>setFilters(f=>({...f, operateur:e.target.value}))} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem'}} />\n              </div>\n              <div style={{display:'flex', flexDirection:'column', gap:4}}>\n                <label>Produit</label>\n                <input type=\"text\" placeholder=\"Produit...\" value={filters.produit} onChange={e=>setFilters(f=>({...f, produit:e.target.value}))} style={{padding:'8px 12px', borderRadius:6, border:'1.2px solid #cfd8dc', fontSize:'1rem'}} />\n              </div>\n              {/* Ajout d'autres filtres pro si besoin */}\n            </div>\n            {/* Rsultats */}\n            <div style={{overflowX:'auto', marginTop:18}}>\n              <table style={{width:'100%', borderCollapse:'separate', borderSpacing:0, fontSize:'0.99rem', background:'#fff', borderRadius:10}}>\n                <thead>\n                  <tr style={{background:'#f7f8fa'}}>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>N Cmd</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Client</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Tlphone</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Date</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Produit(s)</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Montant</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Statut</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Agent</th>\n                    <th style={{padding:'10px 8px', fontWeight:700, color:'#222'}}>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredOrders.map((order, idx) => (\n                    <tr key={order.id || idx} style={{borderBottom:'1.5px solid #f0f0f0'}}>\n                      <td style={{padding:'10px 8px', fontWeight:600}}>{order.id}</td>\n                      <td style={{padding:'10px 8px'}}>{order.nom} {order.prenom}</td>\n                      <td style={{padding:'10px 8px'}}>{order.phone}</td>\n                      <td style={{padding:'10px 8px'}}>{order.date}</td>\n                      <td style={{padding:'10px 8px'}}>{order.produit} {order.quantite>1?`(x${order.quantite})`:''}</td>\n                      <td style={{padding:'10px 8px', textAlign:'right'}}>{order.prix*order.quantite} </td>\n                      <td style={{padding:'10px 8px'}}>\n                        <span style={{padding:'4px 8px', borderRadius:12, fontWeight:600, background: order.statut==='Livre'?'#e8f5e9':order.statut==='Annule'?'#ffebee':order.statut==='En attente'?'#fff3e0':order.statut==='Litige'?'#ffecb3':'#e3f2fd', color: order.statut==='Livre'?'#2e7d32':order.statut==='Annule'?'#c62828':order.statut==='En attente'?'#e65100':order.statut==='Litige'?'#ff9800':'#1565c0'}}>{order.statut}</span>\n                      </td>\n                      <td style={{padding:'10px 8px'}}>{order.operateur||''}</td>\n                      <td style={{padding:'10px 8px'}}>\n                        <button style={{background:'#1976d2', color:'#fff', border:'none', borderRadius:7, padding:'6px 12px', fontWeight:600, fontSize:'0.97rem', cursor:'pointer', marginRight:4}} onClick={()=>setSelectedOrder(order)}></button>\n                        <button style={{background:'#ffb300', color:'#fff', border:'none', borderRadius:7, padding:'6px 12px', fontWeight:600, fontSize:'0.97rem', cursor:'pointer', marginRight:4}}></button>\n                        <button style={{background:'#888', color:'#fff', border:'none', borderRadius:7, padding:'6px 12px', fontWeight:600, fontSize:'0.97rem', cursor:'pointer'}}></button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n            {/* Dtail d'une commande (fiche) */}\n            {selectedOrder && (\n              <div style={{marginTop:32, background:'#fafbfc', borderRadius:12, padding:24, border:'1.5px solid #e0e0e0', maxWidth:700, margin:'32px auto 0 auto'}}>\n                <h3 style={{fontWeight:700, fontSize:'1.13rem', marginBottom:18, color:'#1976d2'}}>Fiche commande {selectedOrder.id}</h3>\n                <div style={{marginBottom:8}}><b>Client :</b> {selectedOrder.nom} {selectedOrder.prenom}</div>\n                <div style={{marginBottom:8}}><b>Tlphone :</b> {selectedOrder.phone}</div>\n                <div style={{marginBottom:8}}><b>Adresse :</b> {selectedOrder.adresse}</div>\n                <div style={{marginBottom:8}}><b>Produit :</b> {selectedOrder.produit}</div>\n                <div style={{marginBottom:8}}><b>Quantit :</b> {selectedOrder.quantite}</div>\n                <div style={{marginBottom:8}}><b>Prix :</b> {selectedOrder.prix} </div>\n                <div style={{marginBottom:8}}><b>Statut :</b> {selectedOrder.statut}</div>\n                <div style={{marginBottom:8}}><b>Oprateur :</b> {selectedOrder.operateur||''}</div>\n                <div style={{marginBottom:8}}><b>Date :</b> {selectedOrder.date}</div>\n                <div style={{marginBottom:8}}><b>Canal :</b> {selectedOrder.canal||''}</div>\n                <div style={{marginBottom:8}}><b>Historique :</b> <pre style={{background:'#f5f5f5', borderRadius:6, padding:8, fontSize:13}}>{JSON.stringify(selectedOrder.historique,null,2)}</pre></div>\n                <button style={{marginTop:12, background:'#888', color:'#fff', border:'none', borderRadius:8, padding:'10px 28px', fontWeight:700, fontSize:'1rem', cursor:'pointer', display:'block', marginLeft:'auto', marginRight:'auto'}} onClick={()=>setSelectedOrder(null)}>Fermer</button>\n              </div>\n            )}\n          </div>\n        )}\n        {activeTab === 'Vendeurs' && (\n          <div style={{maxWidth: 700, margin: '0 auto', textAlign:'center'}}>\n            <h2 style={{fontWeight:700, fontSize:'1.5rem', marginBottom:32}}>Vendeurs</h2>\n            <div>[Liste des vendeurs ici]</div>\n          </div>\n        )}\n        {activeTab === 'Demandes d\\'inscription' && (\n          <div className=\"registration-requests\">\n            <h2>Demandes d'inscription en attente</h2>\n            {loadingRequests ? (\n              <p>Chargement des demandes...</p>\n            ) : registrationRequests.length === 0 ? (\n              <p>Aucune demande en attente</p>\n            ) : (\n              <div className=\"requests-list\">\n                {registrationRequests.map(request => (\n                  <div key={request._id} className=\"request-card\">\n                    <h3>{request.prenom} {request.nom}</h3>\n                    <p>Email: {request.email}</p>\n                    <p>Tlphone: {request.telephone}</p>\n                    <p>Rle demand: {request.role}</p>\n                    <p>Exprience: {request.experience}</p>\n                    <p>Date de demande: {new Date(request.dateDemande).toLocaleDateString()}</p>\n                    <div className=\"request-actions\">\n                      <button onClick={() => handleApproveRequest(request._id)} className=\"approve-btn\">\n                        Approuver\n                      </button>\n                      <button onClick={() => handleRejectRequest(request._id)} className=\"reject-btn\">\n                        Refuser\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default AdminCRM; ","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport CRM from './CRM';\nimport AdminCRM from './AdminCRM';\nimport AdminShopifyOrders from './AdminShopifyOrders';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"app\">\n        <Routes>\n          <Route path=\"/\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n          <Route path=\"/operateur\" element={<CRM />} />\n          <Route path=\"/admin\" element={<AdminCRM />} />\n          <Route path=\"/admin/shopify-orders\" element={<AdminShopifyOrders />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals; ","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\nreportWebVitals();\n"],"sourceRoot":""}